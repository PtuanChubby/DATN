<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Trang cá nhân | USSH-VNUHCM</title>
    <link rel="icon" href="./Asset/IMG/Logo USSH.jpg" />
    <!-- <script
      src="https://kit.fontawesome.com/4ced78dcc2.js"
      crossorigin="anonymous"
    ></script> -->
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="./bootstrap-5.3.2-dist/css/bootstrap.min.css"
    />
    <!-- Font-icon css-->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css"
    />
    <!-- Main CSS-->
    <link rel="stylesheet" href="./Asset/CSS/mainUSSH.css" />
  </head>
  <body>
    <div class="container mt-5">
      <div class="from-group">
        <table class="table">
          <tr>
            <th>Các khoản chi phí</th>
            <th>Từ ĐHQG-HCM (đ)</th>
            <th>Từ nguồn huy động (đ)</th>
            <th>Tổng kinh phí (đ)</th>
          </tr>

          <tr>
            <th>Khoản Tiền công lao động trực tiếp và thuê chuyên gia</th>
            <td>
              <input
                class="form-control"
                type="number"
                id="input2_1_dhqgHCM"
                min="0"
                placeholder="0"
              />
            </td>
            <td>
              <input
                class="form-control"
                type="number"
                id="input2_1_huyDong"
                min="0"
                placeholder="0"
              />
            </td>
            <td><span class="fw-bold" id="total-tienCong">0</span></td>
          </tr>
          <tr>
            <th>Khoản 1.1: Lao động trong ĐHQG</th>
            <td>
              <input
                class="form-control"
                type="number"
                id="input3_1_dhqgHCM"
                min="0"
                placeholder="0"
              />
            </td>
            <td>
              <input
                class="form-control"
                type="number"
                id="input3_1_huyDong"
                min="0"
                placeholder="0"
              />
            </td>
            <td><span class="fw-bold" id="total-khoan1_1">0</span></td>
          </tr>
          <tr>
            <th>Khoản 1.2: Lao động ngoài ĐHQG (trong nước)</th>
            <td>
              <input
                class="form-control"
                type="number"
                id="input3_2_dhqgHCM"
                min="0"
                placeholder="0"
              />
            </td>
            <td>
              <input
                class="form-control"
                type="number"
                id="input3_2_huyDong"
                min="0"
                placeholder="0"
              />
            </td>
            <td><span class="fw-bold" id="total-khoan1_2">0</span></td>
          </tr>
          <tr>
            <th>Khoản 1.3: Lao động ngoài ĐHQG (ngoài nước)</th>
            <td>
              <input
                class="form-control"
                type="number"
                id="input3_3_dhqgHCM"
                min="0"
                placeholder="0"
              />
            </td>
            <td>
              <input
                class="form-control"
                type="number"
                id="input3_3_huyDong"
                min="0"
                placeholder="0"
              />
            </td>
            <td><span class="fw-bold" id="total-khoan1_3">0</span></td>
          </tr>
          <tr>
            <th>Tổng kinh phí</th>
            <td><span class="fw-bold" id="total-all-dhqgHCM">0</span></td>
            <td><span class="fw-bold" id="total-all-huyDong">0</span></td>
            <td><span class="fw-bold" id="total-all">0</span></td>
          </tr>
        </table>
      </div>
    </div>

    <script>
      function calculateTotal() {
        const inputFields = document.querySelectorAll('input[type="number"]');
        let total_tienCong = 0;
        let total_khoan1_1 = 0;
        let total_khoan1_2 = 0;
        let total_khoan1_3 = 0;
        let total_all_dhqgHCM = 0;
        let total_all_huyDong = 0;
        inputFields.forEach((input) => {
          const value = parseInt(input.value) || 0;
          const id = input.getAttribute("id");
          if (value > 0) {
            if (id === "input2_1_dhqgHCM" || id === "input2_1_huyDong") {
              total_tienCong += value;
            } else if (id === "input3_1_dhqgHCM" || id === "input3_1_huyDong") {
              total_khoan1_1 += value;
            } else if (id === "input3_2_dhqgHCM" || id === "input3_2_huyDong") {
              total_khoan1_2 += value;
            } else if (id === "input3_3_dhqgHCM" || id === "input3_3_huyDong") {
              total_khoan1_3 += value;
            }
            if (id.includes("dhqgHCM")) {
              total_all_dhqgHCM += value;
            } else if (id.includes("huyDong")) {
              total_all_huyDong += value;
            }
          }
        });
        document.getElementById("total-tienCong").textContent = total_tienCong;
        document.getElementById("total-khoan1_1").textContent = total_khoan1_1;
        document.getElementById("total-khoan1_2").textContent = total_khoan1_2;
        document.getElementById("total-khoan1_3").textContent = total_khoan1_3;
        document.getElementById("total-all-dhqgHCM").textContent =
          total_all_dhqgHCM;
        document.getElementById("total-all-huyDong").textContent =
          total_all_huyDong;
        document.getElementById("total-all").textContent =
          total_all_dhqgHCM + total_all_huyDong;
      }
      const inputFields = document.querySelectorAll('input[type="number"]');
      inputFields.forEach((input) => {
        input.addEventListener("input", calculateTotal);
      });
    </script>
    <!-- Essential javascripts for application to work-->
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
      crossorigin="anonymous"
    ></script>
    <!-- <script src="./bootstrap-5.3.2-dist/js/bootstrap.min.js"></script> -->
    <!-- <script src="./bootstrap-5.2.3-dist/js/bootstrap.bundle.js"></script> -->
    <!-- Page specific javascripts-->
    <script
      type="text/javascript"
      src="./Asset/JS/js/plugins/chart.js"
    ></script>
    <script src="./Asset/JS/jquery-3.7.1.min.js"></script>
    <script src="./test.js"></script>
    <script>
      // Check-box
      function handleCheckboxChange(event, siblingCheckboxId) {
        const checkbox = event.target;
        const siblingCheckbox = document.getElementById(siblingCheckboxId);

        if (checkbox.checked) {
          siblingCheckbox.disabled = true;
        } else {
          siblingCheckbox.disabled = false;
        }
      }
    </script>
  </body>
</html>
